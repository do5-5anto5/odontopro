# Retroactive PR â€“ Corrections to the Build and Deployment Process (Main Branch)

## Context
During the deployment process at Vercel, errors related to Stripe configuration,

ESLint behavior on automatically generated files, and the defined Stripe API version were identified.

These problems prevented a stable build of the project and motivated a set of adjustments directly in the `main` branch.

## Main Changes

### 1. Stripe Configuration
- **fix:** corrected the string `apiVersion` with a double comma `""` that caused an API initialization error.

- Adjusted the overall Stripe configuration for compatibility with the production environment.

### 2. ESLint and TypeScript
- **update:** configured `eslint.config.mjs` to ignore files automatically generated by Prisma and Next.js.

- **Update:** Adjusted `tsconfig.json` to set `jsx: "react-jsx"` and correctly include the Next types.

### 3. Prisma Integration in the Build
- **Build:** Added `prisma generate` and `prisma migrate deploy` commands to the build script in `package.json`.

- Ensures automatic generation of the Prisma Client and application of migrations before the production build (Vercel).

These changes stabilized the build and eliminated undue warnings in the linting process.

## Result
- Deployment to Vercel executed successfully.

- History of `main` corrected and environment stable.

## Technical Note
A *soft reset* was performed to clean up redundant commits and preserve a consistent history.

A backup branch was created before the reset to ensure rollback security, but will only be maintained temporarily.

---
### BACKUP BRANCH:
 - https://github.com/do5-5anto5/odontopro/tree/backup/main/deploy-fixes-testing
---

